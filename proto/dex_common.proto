syntax = "proto3";

package dex.common.v1;

// Simplified output containing just ticker data
message TickerOutput {
  repeated PoolTicker tickers = 1;
}

// Pool ticker data - aggregated activity per pool per block
message PoolTicker {
  // Pool identification
  string pool_address = 1;

  // Block-level volume aggregates (sum of all swaps in this block)
  string block_volume_token0 = 2;  // Total token0 volume in this block
  string block_volume_token1 = 3;  // Total token1 volume in this block
  uint32 swap_count = 4;           // Number of swaps for this pool in this block

  // Price data (token0 per token1)
  string close_price = 5;    // Final price in this block

  // Metadata
  uint64 block_number = 6;
  uint64 timestamp = 7;
}